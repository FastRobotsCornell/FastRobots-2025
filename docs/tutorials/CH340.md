# CH340 USB to Serial Chip

## Introduction

For most users, the CH340 driver software is embedded in their USB Serial drivers in their OS. For those that fail to communicate with the Artemis, even after following the debug steps in Lab 1A, you may need to install dedicated USB drivers from [WCH](https://www.wch-ic.com/search?q=CH340&t=downloads) and configure the SVL bootloader to enable proper communication between the computer and the board over USB.

## Install CH340 Drivers


## Ensure board communication
After successful install, you should reopen Arduino and see a /dev/cu.wchusbserial* port. Unplug your Artemis, plug it back in, ensure correct board and port definitions, use the SVL bootloader, and burn the Blink example. Code should upload. If it does not, double check the CH340 install.

Modify the timing of the blink example and try to reupload the code (do not unplug the board). If you can successfully upload code, the driver install was the only fix needed.

## Update SVL bootloader

The Artemis boards are equipped with two bootloaders. The Sparkfun Variable Loader (SVL) and the Ambiq Secure Bootloader (ASB). For the purposes of this class, we only need to use the SVL bootloader. Note: If you use the ASB, you may accidentally rewrite the registers for the SVL on the Apollo3 chip, you will need to reburn the SVL bootloader on the chip for future use of SVL. 

When we download the apollo3 board library, the package is saved in Arduino's library folders. Deep in these folders is the SVL executable that runs when we call the SVL bootloader. Many have modified this code in the past to make it run more efficiently, but we are going to use it to ensure bootloads are successful. 
